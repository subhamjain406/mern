{"ast":null,"code":"var _jsxFileName = \"/home/reckonsys/subham/subham_workspace/mern/html/src/App.js\";\nimport React from \"react\";\nimport { BrowserRouter, Route, Switch } from \"react-router-dom\";\nimport { Provider } from \"react-redux\";\nimport axios from \"axios\";\nimport jwt_decode from \"jwt-decode\";\nimport { setCurrentUser } from \"./actions/authAction\";\nimport { logoutUser } from \"./actions/authAction\";\nimport { clearCurrentProfile } from \"./actions/profileAction\";\nimport setAuthToken from \"./utility/setAuthToken\";\nimport Store from \"./store\";\nimport \"./App.css\";\nimport Register from \"./components/auth/Register/Register\";\nimport Login from \"./components/auth/Login/Login\";\nimport Navbar from \"./components/Layout/Navigation/Navigation\";\nimport Landing from \"./components/Layout/Landing/Landing\";\nimport Dashboard from \"./components/dashboard/dashboard\";\nimport PrivateRoute from \"./components/common/PrivateRoute\";\nimport CreateProfile from \"./components/create-profile/CreateProfile\";\nimport EditProfile from \"./components/edit-profile/EditProfile\";\nimport AddExperience from \"./components/add-experience/AddExperience\";\nimport AddEducation from \"./components/add-education/AddEducation\";\nimport Profiles from \"./components/profiles/Profiles\";\nimport Profile from \"./components/PROFILE/Profile\";\nimport Posts from \"./components/posts/Posts\";\nimport Post from \"./components/post/Post\";\n\nconst App = () => {\n  if (localStorage.token) {\n    //set auth token header\n    setAuthToken(localStorage.token); //decode the token\n\n    const decode = jwt_decode(localStorage.token); //get Current user\n\n    axios.get(\"/api/user/current\").then(data => {\n      //set current user\n      Store.dispatch(setCurrentUser(data.data));\n    }).catch(err => {\n      console.log(err);\n    });\n    const currentTime = Date.now() / 1000;\n\n    if (currentTime > decode.exp) {\n      Store.dispatch(clearCurrentProfile());\n      Store.dispatch(logoutUser());\n      window.location.href = \"/login\";\n    }\n  }\n\n  return /*#__PURE__*/React.createElement(Provider, {\n    store: Store,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(BrowserRouter, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"App\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Navbar, {\n    page: \"register\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(Route, {\n    exact: true,\n    path: \"/\",\n    component: Landing,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(Route, {\n    exact: true,\n    path: \"/register\",\n    component: Register,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(Route, {\n    exact: true,\n    path: \"/login\",\n    component: Login,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(Route, {\n    exact: true,\n    path: \"/profiles\",\n    component: Profiles,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(Route, {\n    exact: true,\n    path: \"/profile/:handle\",\n    component: Profile,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(Switch, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(PrivateRoute, {\n    exact: true,\n    path: \"/dashboard\",\n    component: Dashboard,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(Switch, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(PrivateRoute, {\n    exact: true,\n    path: \"/create-profile\",\n    component: CreateProfile,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(Switch, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(PrivateRoute, {\n    exact: true,\n    path: \"/edit-profile\",\n    component: EditProfile,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(Switch, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(PrivateRoute, {\n    exact: true,\n    path: \"/add-experience\",\n    component: AddExperience,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(Switch, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(PrivateRoute, {\n    exact: true,\n    path: \"/add-education\",\n    component: AddEducation,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(Switch, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(PrivateRoute, {\n    exact: true,\n    path: \"/feed\",\n    component: Posts,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(Switch, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(PrivateRoute, {\n    exact: true,\n    path: \"/post/:id\",\n    component: Post,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 13\n    }\n  })))));\n};\n\nexport default App;","map":{"version":3,"sources":["/home/reckonsys/subham/subham_workspace/mern/html/src/App.js"],"names":["React","BrowserRouter","Route","Switch","Provider","axios","jwt_decode","setCurrentUser","logoutUser","clearCurrentProfile","setAuthToken","Store","Register","Login","Navbar","Landing","Dashboard","PrivateRoute","CreateProfile","EditProfile","AddExperience","AddEducation","Profiles","Profile","Posts","Post","App","localStorage","token","decode","get","then","data","dispatch","catch","err","console","log","currentTime","Date","now","exp","window","location","href"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { BrowserRouter, Route, Switch } from \"react-router-dom\";\nimport { Provider } from \"react-redux\";\nimport axios from \"axios\";\nimport jwt_decode from \"jwt-decode\";\n\nimport { setCurrentUser } from \"./actions/authAction\";\nimport { logoutUser } from \"./actions/authAction\";\nimport { clearCurrentProfile } from \"./actions/profileAction\";\nimport setAuthToken from \"./utility/setAuthToken\";\nimport Store from \"./store\";\n\nimport \"./App.css\";\nimport Register from \"./components/auth/Register/Register\";\nimport Login from \"./components/auth/Login/Login\";\nimport Navbar from \"./components/Layout/Navigation/Navigation\";\nimport Landing from \"./components/Layout/Landing/Landing\";\nimport Dashboard from \"./components/dashboard/dashboard\";\nimport PrivateRoute from \"./components/common/PrivateRoute\";\nimport CreateProfile from \"./components/create-profile/CreateProfile\";\nimport EditProfile from \"./components/edit-profile/EditProfile\";\nimport AddExperience from \"./components/add-experience/AddExperience\";\nimport AddEducation from \"./components/add-education/AddEducation\";\nimport Profiles from \"./components/profiles/Profiles\";\nimport Profile from \"./components/PROFILE/Profile\";\nimport Posts from \"./components/posts/Posts\";\nimport Post from \"./components/post/Post\";\n\nconst App = () => {\n  if (localStorage.token) {\n    //set auth token header\n    setAuthToken(localStorage.token);\n\n    //decode the token\n    const decode = jwt_decode(localStorage.token);\n\n    //get Current user\n    axios\n      .get(\"/api/user/current\")\n      .then((data) => {\n        //set current user\n        Store.dispatch(setCurrentUser(data.data));\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n\n    const currentTime = Date.now() / 1000;\n    if (currentTime > decode.exp) {\n      Store.dispatch(clearCurrentProfile());\n      Store.dispatch(logoutUser());\n      window.location.href = \"/login\";\n    }\n  }\n\n  return (\n    <Provider store={Store}>\n      <BrowserRouter>\n        <div className=\"App\">\n          <Navbar page=\"register\" />\n          <Route exact path=\"/\" component={Landing} />\n          <Route exact path=\"/register\" component={Register} />\n          <Route exact path=\"/login\" component={Login} />\n          <Route exact path=\"/profiles\" component={Profiles} />\n          <Route exact path=\"/profile/:handle\" component={Profile} />\n          <Switch>\n            <PrivateRoute exact path=\"/dashboard\" component={Dashboard} />\n          </Switch>\n          <Switch>\n            <PrivateRoute\n              exact\n              path=\"/create-profile\"\n              component={CreateProfile}\n            />\n          </Switch>\n          <Switch>\n            <PrivateRoute exact path=\"/edit-profile\" component={EditProfile} />\n          </Switch>\n          <Switch>\n            <PrivateRoute\n              exact\n              path=\"/add-experience\"\n              component={AddExperience}\n            />\n          </Switch>\n          <Switch>\n            <PrivateRoute\n              exact\n              path=\"/add-education\"\n              component={AddEducation}\n            />\n          </Switch>\n          <Switch>\n            <PrivateRoute exact path=\"/feed\" component={Posts} />\n          </Switch>\n          <Switch>\n            <PrivateRoute exact path=\"/post/:id\" component={Post} />\n          </Switch>\n        </div>\n      </BrowserRouter>\n    </Provider>\n  );\n};\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}