{"ast":null,"code":"var _jsxFileName = \"/home/reckonsys/subham/subham_workspace/mern/html/src/components/auth/Register/Register.js\";\nimport React from \"react\";\nimport { useState, useEffect } from \"react\";\nimport classnames from \"classnames\";\nimport { connect } from \"react-redux\";\nimport { registerUser } from \"../../../actions/authAction\";\nimport propsTypes from \"prop-types\";\nimport { withRouter } from \"react-router-dom\";\n\nconst Register = props => {\n  const [state, setstate] = useState({\n    name: \"\",\n    email: \"\",\n    password: \"\",\n    password2: \"\",\n    profileImage: \"\",\n    errors: {},\n    passwordMatch: true\n  });\n  useEffect(() => {\n    if (props.errors) {\n      setstate({ ...state,\n        errors: props.errors\n      });\n    }\n  }, [props.errors]);\n  useEffect(() => {\n    if (props.auth.isAuthenticate) {\n      props.history.push(\"/dashboard\");\n    }\n  }, []);\n\n  const onChangeField = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setstate({ ...state,\n      [name]: value,\n      errors: { ...state.errors,\n        [name]: \"\"\n      }\n    });\n  };\n\n  const checkPassword = e => {\n    if (state.password !== state.password2) {\n      setstate({ ...state,\n        errors: { ...state.errors,\n          password2: \"password Does not match\",\n          passwordMatch: false\n        }\n      });\n    } else {\n      setstate({ ...state,\n        errors: { ...state.errors,\n          password2: \"\"\n        },\n        passwordMatch: true\n      });\n    }\n  };\n\n  const submitForm = e => {\n    e.preventDefault();\n    const user = {\n      name: state.name,\n      email: state.email,\n      password: state.password,\n      password2: state.password2,\n      profile_img: state.profileImage\n    };\n\n    if (state.passwordMatch) {\n      props.registerUser(user, props.history);\n    }\n  };\n\n  const openFileUPloader = e => {\n    e.preventDefault();\n    document.getElementById(\"file-upload\").click();\n  };\n\n  const fileUploader = event => {\n    if (event.target.files && event.target.files[0]) {\n      const reader = new FileReader();\n      reader.readAsDataURL(event.target.files[0]);\n\n      reader.onload = item => {\n        document.getElementById(\"profile-pic\").src = reader.result;\n        setstate({ ...state,\n          profileImage: reader.result\n        });\n      };\n    }\n  };\n\n  const {\n    errors\n  } = state;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"register\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-8 m-auto\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    className: \"display-4 text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 15\n    }\n  }, \"Sign Up\"), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"lead text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 15\n    }\n  }, \"Create your DeveloperConnector account\"), /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: submitForm,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"avatar-wrapper\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    className: \"profile-pic\",\n    id: \"profile-pic\",\n    src: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"upload-button\",\n    onClick: openFileUPloader,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"fa fa-arrow-circle-up\",\n    \"aria-hidden\": \"true\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 23\n    }\n  })), /*#__PURE__*/React.createElement(\"input\", {\n    className: \"file-upload\",\n    id: \"file-upload\",\n    type: \"file\",\n    accept: \"image/*\",\n    onChange: fileUploader,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    className: classnames(\"form-control form-control-lg\", {\n      \"is-invalid\": errors.name\n    }),\n    placeholder: \"Name\",\n    name: \"name\",\n    value: state.name,\n    onChange: onChangeField,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 19\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"invalid-feedback\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 19\n    }\n  }, errors.name)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"email\",\n    className: classnames(\"form-control form-control-lg\", {\n      \"is-invalid\": errors.email\n    }),\n    placeholder: \"Email Address\",\n    name: \"email\",\n    value: state.email,\n    onChange: onChangeField,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 19\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"invalid-feedback\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 19\n    }\n  }, errors.email)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"password\",\n    className: classnames(\"form-control form-control-lg\", {\n      \"is-invalid\": errors.password\n    }),\n    placeholder: \"Password\",\n    name: \"password\",\n    value: state.password,\n    onChange: onChangeField,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 19\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"invalid-feedback\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 19\n    }\n  }, errors.password)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"password\",\n    className: classnames(\"form-control form-control-lg\", {\n      \"is-invalid\": errors.password2\n    }),\n    placeholder: \"Confirm Password\",\n    name: \"password2\",\n    value: state.password2,\n    onChange: onChangeField,\n    onKeyUp: checkPassword,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 19\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"invalid-feedback\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 19\n    }\n  }, errors.password2)), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"submit\",\n    className: \"btn btn-dark btn-block mt-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 17\n    }\n  })))))));\n};\n\nRegister.propsTypes = {\n  registerUser: propsTypes.func.isRequired,\n  auth: propsTypes.object.isRequired,\n  errors: propsTypes.object.isRequired\n};\n\nconst mapStateToProps = state => ({\n  auth: state.auth,\n  errors: state.errors\n});\n\nexport default connect(mapStateToProps, {\n  registerUser\n})(withRouter(Register));","map":{"version":3,"sources":["/home/reckonsys/subham/subham_workspace/mern/html/src/components/auth/Register/Register.js"],"names":["React","useState","useEffect","classnames","connect","registerUser","propsTypes","withRouter","Register","props","state","setstate","name","email","password","password2","profileImage","errors","passwordMatch","auth","isAuthenticate","history","push","onChangeField","e","value","target","checkPassword","submitForm","preventDefault","user","profile_img","openFileUPloader","document","getElementById","click","fileUploader","event","files","reader","FileReader","readAsDataURL","onload","item","src","result","func","isRequired","object","mapStateToProps"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { useState, useEffect } from \"react\";\nimport classnames from \"classnames\";\nimport { connect } from \"react-redux\";\nimport { registerUser } from \"../../../actions/authAction\";\nimport propsTypes from \"prop-types\";\nimport { withRouter } from \"react-router-dom\";\n\nconst Register = (props) => {\n  const [state, setstate] = useState({\n    name: \"\",\n    email: \"\",\n    password: \"\",\n    password2: \"\",\n    profileImage: \"\",\n    errors: {},\n    passwordMatch: true,\n  });\n\n  useEffect(() => {\n    if (props.errors) {\n      setstate({ ...state, errors: props.errors });\n    }\n  }, [props.errors]);\n\n  useEffect(() => {\n    if (props.auth.isAuthenticate) {\n      props.history.push(\"/dashboard\");\n    }\n  }, []);\n\n  const onChangeField = (e) => {\n    const { name, value } = e.target;\n    setstate({\n      ...state,\n      [name]: value,\n      errors: { ...state.errors, [name]: \"\" },\n    });\n  };\n\n  const checkPassword = (e) => {\n    if (state.password !== state.password2) {\n      setstate({\n        ...state,\n        errors: {\n          ...state.errors,\n          password2: \"password Does not match\",\n          passwordMatch: false,\n        },\n      });\n    } else {\n      setstate({\n        ...state,\n        errors: { ...state.errors, password2: \"\" },\n        passwordMatch: true,\n      });\n    }\n  };\n\n  const submitForm = (e) => {\n    e.preventDefault();\n    const user = {\n      name: state.name,\n      email: state.email,\n      password: state.password,\n      password2: state.password2,\n      profile_img: state.profileImage,\n    };\n    if (state.passwordMatch) {\n      props.registerUser(user, props.history);\n    }\n  };\n\n  const openFileUPloader = (e) => {\n    e.preventDefault();\n    document.getElementById(\"file-upload\").click();\n  };\n\n  const fileUploader = (event) => {\n    if (event.target.files && event.target.files[0]) {\n      const reader = new FileReader();\n      reader.readAsDataURL(event.target.files[0]);\n      reader.onload = (item) => {\n        document.getElementById(\"profile-pic\").src = reader.result;\n        setstate({ ...state, profileImage: reader.result });\n      };\n    }\n  };\n\n  const { errors } = state;\n\n  return (\n    <div>\n      <div className=\"register\">\n        <div className=\"container\">\n          <div className=\"row\">\n            <div className=\"col-md-8 m-auto\">\n              <h1 className=\"display-4 text-center\">Sign Up</h1>\n              <p className=\"lead text-center\">\n                Create your DeveloperConnector account\n              </p>\n              <form onSubmit={submitForm}>\n                <div className=\"form-group\">\n                  <div className=\"avatar-wrapper\">\n                    <img className=\"profile-pic\" id=\"profile-pic\" src=\"\" />\n                    <div className=\"upload-button\" onClick={openFileUPloader}>\n                      <i\n                        className=\"fa fa-arrow-circle-up\"\n                        aria-hidden=\"true\"\n                      ></i>\n                    </div>\n                    <input\n                      className=\"file-upload\"\n                      id=\"file-upload\"\n                      type=\"file\"\n                      accept=\"image/*\"\n                      onChange={fileUploader}\n                    />\n                  </div>\n                  <input\n                    type=\"text\"\n                    className={classnames(\"form-control form-control-lg\", {\n                      \"is-invalid\": errors.name,\n                    })}\n                    placeholder=\"Name\"\n                    name=\"name\"\n                    value={state.name}\n                    onChange={onChangeField}\n                  />\n                  <div className=\"invalid-feedback\">{errors.name}</div>\n                </div>\n                <div className=\"form-group\">\n                  <input\n                    type=\"email\"\n                    className={classnames(\"form-control form-control-lg\", {\n                      \"is-invalid\": errors.email,\n                    })}\n                    placeholder=\"Email Address\"\n                    name=\"email\"\n                    value={state.email}\n                    onChange={onChangeField}\n                  />\n                  <div className=\"invalid-feedback\">{errors.email}</div>\n                </div>\n                <div className=\"form-group\">\n                  <input\n                    type=\"password\"\n                    className={classnames(\"form-control form-control-lg\", {\n                      \"is-invalid\": errors.password,\n                    })}\n                    placeholder=\"Password\"\n                    name=\"password\"\n                    value={state.password}\n                    onChange={onChangeField}\n                  />\n                  <div className=\"invalid-feedback\">{errors.password}</div>\n                </div>\n                <div className=\"form-group\">\n                  <input\n                    type=\"password\"\n                    className={classnames(\"form-control form-control-lg\", {\n                      \"is-invalid\": errors.password2,\n                    })}\n                    placeholder=\"Confirm Password\"\n                    name=\"password2\"\n                    value={state.password2}\n                    onChange={onChangeField}\n                    onKeyUp={checkPassword}\n                  />\n                  <div className=\"invalid-feedback\">{errors.password2}</div>\n                </div>\n                <input type=\"submit\" className=\"btn btn-dark btn-block mt-4\" />\n              </form>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nRegister.propsTypes = {\n  registerUser: propsTypes.func.isRequired,\n  auth: propsTypes.object.isRequired,\n  errors: propsTypes.object.isRequired,\n};\n\nconst mapStateToProps = (state) => ({\n  auth: state.auth,\n  errors: state.errors,\n});\n\nexport default connect(mapStateToProps, { registerUser })(withRouter(Register));\n"]},"metadata":{},"sourceType":"module"}